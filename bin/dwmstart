#!/bin/bash

# numlock
if command -v numlockx > /dev/null 2>&1; then
    numlockx on
fi

# setup multiple screen
if [[ $(xrandr --listmonitors | head -n 1 | grep -oE '[0-9]') -eq 2 ]]; then
    xrandr --output "$(xrandr --listmonitors | awk '/^ 1:/ { print $4 }')" --auto --left-of LVDS1
fi

# fond d'écran
if [[ -f "$HOME/.local/share/wallpaper/wall" ]]; then
    feh --no-fehbg --bg-fill "$HOME/.local/share/wallpaper/wall"
elif [[ -f /usr/local/share/dwm/dwm_wallpaper.jpg ]]; then
    feh --no-fehbg --bg-fill /usr/local/share/dwm/dwm_wallpaper.jpg
fi

# filtre lumière bleue
# redshift -c /usr/local/etc/redshift.conf &

# status bar
dwmblocks &

# daemon de notification
dunst &

if command -v thunar > /dev/null 2>&1; then
    thunar --daemon &
fi

# start window manager
exec dwm
